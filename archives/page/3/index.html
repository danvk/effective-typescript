<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
    <title>Effective TypeScript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Khula:wght@600&family=Open+Sans:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&display=swap" rel="stylesheet">
    <link href="/css/customize.css" rel="stylesheet">
    <link href="/css/highlight.vs.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="/images/icon.png">
    <meta name="description" content="Effective TypeScript: 83 Specific Ways to Improve Your TypeScript">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@danvdk">
    <meta name="twitter:domain" content="effectivetypescript.com">
    <meta name="twitter:title" content="Effective TypeScript &rsaquo; 83 Specific Ways to Improve Your TypeScript">
    <meta name="twitter:description" content="Effective TypeScript: 83 Specific Ways to Improve Your TypeScript">
    <meta name="twitter:img:src" content="https://effectivetypescript.com/images/cover-2e.jpg">

    <meta property="og:title" content="Effective TypeScript &rsaquo; 83 Specific Ways to Improve Your TypeScript">
    <meta property="og:description" content="Effective TypeScript: 83 Specific Ways to Improve Your TypeScript">
    <meta property="og:image" content="https://effectivetypescript.com/images/cover-2e.jpg">
    <meta property="og:url" content="https://effectivetypescript.com/">

    <link href="https://effectivetypescript.com/atom.xml" type="application/atom+xml" rel="alternate" title="Effective TypeScript Atom Feed">
  <meta name="generator" content="Hexo 5.4.0"></head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1NXE8EL9YT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1NXE8EL9YT');
  var trackOutboundLink = function(category, url, e) {
    if (!window.google_tag_manager) {
      console.log('blocked!');
      return true;  // probably blocked
    }

    // No need to use event_callback if the link is opening in a new tab.
    var newTab = e && (e.metaKey || (e.currentTarget && e.currentTarget.target === '_blank'));
    gtag('event', 'click', {
        'event_category': category,
        'event_label': url,
        'transport_type': 'beacon',
        'event_callback': !newTab ? function() {
          document.location = url;
        } : undefined
    });

    return newTab;
  }
</script>

<body class="index">
  <div class="header">
  <div class="container">
      <div class="row">
          <div class="col-md-12">
              <h1 class="site-title">
                  <a href="/">
                      Effective TypeScript
                  </a>
              </h1>
          </div>
      </div>
  </div>
</div>

  <section id="preface" class="content">
  <div class="page-content">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <a target="_blank" rel="noopener" href="https://amzn.to/3UjPrsK" onclick="return trackOutboundLink('cover image', 'https://amzn.to/3UjPrsK', event);"><img src="/images/cover-2e.jpg" class="cover-photo" alt="Effective TypeScript 2nd Edition Book Cover"></a>

          <p>TypeScript is a typed superset of JavaScript with the potential to solve many of the headaches for which JavaScript is famous. But TypeScript has a learning curve of its own, and understanding how to use it effectively can take time.</p>
<p><em>Effective TypeScript (2nd Edition)</em> guides you through 83 specific ways to improve your use of TypeScript, following the format popularized by <em>Effective C++</em> and <em>Effective Java</em>. The second edition is thoroughly revised and updated to reflect the way that TypeScript is used 2024. It&#39;s expected to land in May 2024, but you can <a target="_blank" rel="noopener" href="https://amzn.to/3UjPrsK" onclick="return trackOutboundLink('effective typescript', 'https://amzn.to/3UjPrsK', event);">preorder</a> it today. You can also still buy the <a target="_blank" rel="noopener" href="https://amzn.to/3HIrQN6" onclick="return trackOutboundLink('effective typescript', 'https://amzn.to/3HIrQN6', event);">first edition</a>.</p>
<!--

_Effective TypeScript_ guides you through 62 specific ways to improve your use of TypeScript, following the format popularized by _Effective C++_ and _Effective Java_. You’ll advance from a beginning or intermediate user familiar with the basics to an advanced user who knows how to use the language well.

-->

<p>Already have the Book? <a target="_blank" rel="noopener" href="https://github.com/danvk/effective-typescript" onclick="return trackOutboundLink('effective typescript', 'https://github.com/danvk/effective-typescript', event);">Visit the GitHub project</a> to see all of the code snippets from the book in one place. You can also <a target="_blank" rel="noopener" href="https://www.oreilly.com/catalog/errata.csp?isbn=0636920261544" onclick="return trackOutboundLink('effective typescript', 'https://www.oreilly.com/catalog/errata.csp?isbn=0636920261544', event);">report any errors</a> you&#39;ve found.</p>
<p>If you&#39;re interested in a TypeScript book talk at your company, please reach out via <a target="_blank" rel="noopener" href="https://twitter.com/danvdk" onclick="return trackOutboundLink('effective typescript', 'https://twitter.com/danvdk', event);">Twitter</a> or <a href="mailto:danvdk@gmail.com">email</a>.</p>


          <p>
            <a target="_blank" rel="noopener" href="https://amzn.to/3UjPrsK" class="btn btn-info btn-lg primary" onclick="return trackOutboundLink('preorder', 'https://amzn.to/3UjPrsK', event);">Pre-order 2nd Ed.</a>
            <!--
            <a target="_blank" rel="noopener" href="https://amzn.to/3HIrQN6" class="btn btn-info btn-lg primary">Buy the Book</a>
            <a target="_blank" rel="noopener" href="https://www.ebooks.com/en-us/209820951/effective-typescript/dan-vanderkam/?_c=1" class="btn btn-info btn-lg">Buy the eBook</a>
            -->
            <a href="/mail/" class="btn btn-info btn-lg" onclick="return trackOutboundLink('post learn more hover', '/mail/', event);">Subscribe</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="praise" class="content">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h2>Praise for Effective TypeScript</h2>

        <blockquote>
<p>Effective TypeScript explores the most common questions we see when working with TypeScript and provides practical, results-oriented advice. Regardless of your level of TypeScript experience, you can learn something from this book.</p>
<footer>Ryan Cavanaugh, Engineering Lead for TypeScript at Microsoft</footer>
</blockquote>
<blockquote>
<p>This book is packed with practical recipes and must be kept on the desk of every TypeScript eveloper. Even if you think you know TypeScript already, get this book and you won&#39;t regret it.</p>
<footer>Yakov Fain, Java Champion</footer>
</blockquote>
<blockquote>
<p>I have been working with TypeScript for two years, and with Flow for five. And it happens that I provided technical feedback for this book. It was a joy read. The items in the book provide specific, actionable advice that will help to deepen your understanding of TypeScript, and Dan&#39;s explanations are clear and concise. There is a lot of useful information, but my favorite part is Chapter 4, Type Design. Even as an experienced hotshot I learned a number of new things. And the advice sticks with me in my day-to-day work. For example I make an effort to apply types to entire function expressions, and in some cases I do so by using specialized React event handler types that this book pointed me to. Plus Dan convinced me to switch my <code>@type</code> dependencies to <code>devDependencies</code>.</p>
<footer>Jesse Hallett, Senior Software Engineer, Originate, Inc.</footer>
</blockquote>
<blockquote>
<p>The book hit me in exactly the right spot. I&#39;m an experienced developer and I&#39;ve worked with JS on and off for many years, but my structured TS education is limited to the official tutorial. I was able to figure out most of it along the way (TS is intuitive if you have good JS knowledge and realize how it works, Google and SO helped a lot too), but this approach also left me with a lot of gaps in my knowledge, many of which I don&#39;t even realize I have. This book excels at plugging such gaps.</p>
<p>Now I have to go and refactor some of my code in the light of what I&#39;ve learned.</p>
<footer>Matěj Zábský</footer>
</blockquote>
<p>Read more reviews on <a target="_blank" rel="noopener" href="https://www.goodreads.com/book/show/48570456-effective-typescript" onclick="return trackOutboundLink('praise for effective typescript', 'https://www.goodreads.com/book/show/48570456-effective-typescript', event);">Goodreads</a> and <a target="_blank" rel="noopener" href="https://amzn.to/3HIrQN6" onclick="return trackOutboundLink('praise for effective typescript', 'https://amzn.to/3HIrQN6', event);">Amazon</a>.</p>

      </div>
    </div>
  </div>
</section>

<section id="updates" class="content">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h2>Recent Blog Posts</h2>

        <p>See <a href="/all-posts">All Posts</a>.</p>
      </div>
    </div>
  </div>

  <div class="container">
  
    <div class="row hentry" id="typescript-types-the-first-500-years">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/12/10/typescript-types-the-first-500-years/">TypeScript Types: The First 500 Years (tsconf 2021 talk)</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-12-10T14:25:00.000Z" itemprop="datePublished">
        Fri 10 December 2021
      </time>
    </div>

    <div class="entry-content">
      
        <p>My talk from tsconf 2021, <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=uN1zuV4DGRY&list=PL2z7rCjEG2kubUfEAHu-08-aK3Tyn9Zxe" onclick="return trackOutboundLink('recent blog posts', 'https://www.youtube.com/watch?v=uN1zuV4DGRY&list=PL2z7rCjEG2kubUfEAHu-08-aK3Tyn9Zxe', event);"><em>TypeScript Types: The First 500 Years</em></a>, is up on YouTube (<a target="_blank" rel="noopener" href="https://docs.google.com/presentation/d/1HYknblfcAnbjbdDe4MYTyRQpCw_gV72n2cj88xH7z8c/edit?usp=sharing" onclick="return trackOutboundLink('recent blog posts', 'https://docs.google.com/presentation/d/1HYknblfcAnbjbdDe4MYTyRQpCw_gV72n2cj88xH7z8c/edit?usp=sharing', event);">slides here</a>). Check it out!</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uN1zuV4DGRY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>The talk tries to answer the question &quot;what is a type?&quot; It seems simple but it&#39;s actually quite tricky! The talk explains how sets can be built constructively (<code>&quot;A&quot; | &quot;B&quot; | &quot;C&quot;</code>), but that the more common approach in TypeScript is best thought of as a subtractive process, where you start from the raw, undifferentiated <code>unknown</code> type and then whittle your way down:</p>
<img src="/images/unknown-marble.jpg" width="527" height="395" alt="Large block of marble with the word unknown on it" style="max-height: 395px">

<p>It then talks about how TypeScript has given us the ability to &quot;carve&quot; out finer and finer details in our types over time, and how that lets us capture more and more errors in our code.</p>
<p>Overall I&#39;m happy with how the talk turned out. Let me know what you think! All the <a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PL2z7rCjEG2kubUfEAHu-08-aK3Tyn9Zxe" onclick="return trackOutboundLink('recent blog posts', 'https://www.youtube.com/playlist?list=PL2z7rCjEG2kubUfEAHu-08-aK3Tyn9Zxe', event);">tsconf 2021</a> talks are online now. The Anders <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=V5OnAN63vls&list=PL2z7rCjEG2kubUfEAHu-08-aK3Tyn9Zxe&index=2" onclick="return trackOutboundLink('recent blog posts', 'https://www.youtube.com/watch?v=V5OnAN63vls&list=PL2z7rCjEG2kubUfEAHu-08-aK3Tyn9Zxe&index=2', event);">keynote</a> is always a highlight.</p>

      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="optional-never">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/11/11/optional-never/">Exclusive Or and the Optional never Trick</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-11-11T22:00:00.000Z" itemprop="datePublished">
        Thu 11 November 2021
      </time>
    </div>

    <div class="entry-content">
      
        This post looks at how TypeScript's type union operator (<code>|</code> aka "pipe" or "or") is really an <i>inclusive</i> or, and how this can come as a surprise. It presents a few options for getting an <i>exclusive</i> or if that's what you want, including the "optional <code>never</code>" trick.

        <a class="read-more" href="/2021/11/11/optional-never/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="interface">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/06/03/interface/">In defense of interface: Using declaration merging to disable &#34;bad parts&#34;</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-06-03T21:00:56.000Z" itemprop="datePublished">
        Thu 03 June 2021
      </time>
    </div>

    <div class="entry-content">
      
        <p>TypeScript&#39;s <code>interface</code> has gotten a bit of a <a target="_blank" rel="noopener" href="https://twitter.com/kentcdodds/status/1392678508954980353" onclick="return trackOutboundLink('recent blog posts', 'https://twitter.com/kentcdodds/status/1392678508954980353', event);">bad rap</a> lately, largely because of <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html" onclick="return trackOutboundLink('recent blog posts', 'https://www.typescriptlang.org/docs/handbook/declaration-merging.html', event);">declaration merging</a>, a behavior of <code>interface</code> that&#39;s quite surprising when you first see it. This post explains what declaration merging is, <em>why</em> it is, and how you can use it to iron out some of JavaScript&#39;s and TypeScript&#39;s wrinkles in your own projects.</p>
        <a class="read-more" href="/2021/06/03/interface/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="unsoundness">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/05/06/unsoundness/">The Seven Sources of Unsoundness in TypeScript</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-05-07T00:00:00.000Z" itemprop="datePublished">
        Thu 06 May 2021
      </time>
    </div>

    <div class="entry-content">
      
        <p><img src="https://effectivetypescript.com/images/square-peg-round-hole.png" title="A square peg in a round hole" width="212" height="197" style="float: right; padding-left: 10px;">Hang out on the internet much and you&#39;ll hear gripes about how TypeScript isn&#39;t &quot;sound,&quot; and that this makes it a poor choice of language. In this post, I&#39;ll explain what this means and walk through the sources of unsoundness in TypeScript. Rest assured, TypeScript is a great language and it&#39;s never a good idea to listen to people on the internet!</p>
        <a class="read-more" href="/2021/05/06/unsoundness/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="unify-over-model">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/04/09/unify-over-model/">The trouble with Jsonify: Unify types instead of modeling small differences</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-04-09T13:45:00.000Z" itemprop="datePublished">
        Fri 09 April 2021
      </time>
    </div>

    <div class="entry-content">
      
        Last year I wrote about <code>Jsonify</code>, a generic that models how a type changes as it goes through JSON serialization and deserialization. Since then I've learned two important things: 1) I didn't come up with <code>Jsonify</code> and 2) It's a bad idea!

        <a class="read-more" href="/2021/04/09/unify-over-model/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="advent-of-code">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/03/24/advent-of-code/">Advent of Code 2020, this time in Rust</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-03-24T04:00:00.000Z" itemprop="datePublished">
        Wed 24 March 2021
      </time>
    </div>

    <div class="entry-content">
      
        <p>There&#39;s been <a target="_blank" rel="noopener" href="https://fettblog.eu/learning-rust-and-go/" onclick="return trackOutboundLink('recent blog posts', 'https://fettblog.eu/learning-rust-and-go/', event);">lots of interest</a> in Rust in the JavaScript and TypeScript community over the past few years, both because <a target="_blank" rel="noopener" href="https://rustwasm.github.io/book/" onclick="return trackOutboundLink('recent blog posts', 'https://rustwasm.github.io/book/', event);">it can target WebAssembly</a> and because <a target="_blank" rel="noopener" href="https://github.com/denoland/deno" onclick="return trackOutboundLink('recent blog posts', 'https://github.com/denoland/deno', event);">deno</a> is written in Rust.</p>
<p>Last year I decided to learn Rust by doing the <a target="_blank" rel="noopener" href="https://adventofcode.com/" onclick="return trackOutboundLink('recent blog posts', 'https://adventofcode.com/', event);">Advent of Code</a> in it: two puzzles every day of December leading up to Christmas. I had a great time and learned a lot about Rust, and I&#39;d highly recommend this as a way to learn a language.</p>
<p>Since this is a bit off-topic for the <em>Effective TypeScript</em> blog, I posted my writeup on Medium. If you&#39;re interested in Rust, check it out: <a target="_blank" rel="noopener" href="https://danvdk.medium.com/advent-of-code-2020-this-time-in-rust-7904559e24bc" onclick="return trackOutboundLink('recent blog posts', 'https://danvdk.medium.com/advent-of-code-2020-this-time-in-rust-7904559e24bc', event);">Advent of Code 2020 (this time in Rust)</a>.</p>
<p>TL;DR: Rust is an interesting language that works great for a specific niche, but it&#39;s a bit annoying to work with and I wouldn&#39;t choose to use it unless I was working in its niche. Also, this year&#39;s Advent of Code was too easy!</p>

      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="pet-peeves">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/02/03/pet-peeves/">Four words to avoid in TypeScript writing</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-02-03T18:40:00.000Z" itemprop="datePublished">
        Wed 03 February 2021
      </time>
    </div>

    <div class="entry-content">
      
        <p>I&#39;ve <a target="_blank" rel="noopener" href="https://amzn.to/3HIrQN6" onclick="return trackOutboundLink('recent blog posts', 'https://amzn.to/3HIrQN6', event);">written</a> <a href="https://effectivetypescript.com/archives/">many words</a> about TypeScript and I&#39;m sure I&#39;ve read even more. Here are four words that make me cringe every time I see them. If you write about TypeScript, please steer clear of these!</p>
        <a class="read-more" href="/2021/02/03/pet-peeves/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="gentips-3-aliases">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/01/20/gentips-3-aliases/">Generic Tips Part 3: Avoid Repeating Type Expressions</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-01-21T02:40:00.000Z" itemprop="datePublished">
        Wed 20 January 2021
      </time>
    </div>

    <div class="entry-content">
      
        <p><em>This is part of an ongoing series on tips I learned for working with TypeScript generics from building the <a target="_blank" rel="noopener" href="https://github.com/danvk/crosswalk" onclick="return trackOutboundLink('recent blog posts', 'https://github.com/danvk/crosswalk', event);">crosswalk</a> library. Check out <a href="https://effectivetypescript.com/2020/12/04/gentips-1-curry/">part 1</a> for more background.</em></p>
<ul>
<li>Part 0: <a href="/2020/08/12/generics-golden-rule/">The Golden Rule of Generics</a></li>
<li>Part 1: <a href="https://effectivetypescript.com/2020/12/04/gentips-1-curry/">Use Classes and Currying to create new inference sites</a></li>
<li>Part 2: <a href="https://effectivetypescript.com/2020/12/09/gentips-2-intersect/">Intersect what you have with whatever TypeScript wants</a></li>
<li>Part 3: Avoid Repeating Type Expressions</li>
<li>Part 4: <a href="https://effectivetypescript.com/2022/02/25/gentips-4-display/">The Display of Types</a></li>
</ul>
<p>Recently there&#39;s been some <a target="_blank" rel="noopener" href="https://twitter.com/kentcdodds/status/1348016701632221184" onclick="return trackOutboundLink('recent blog posts', 'https://twitter.com/kentcdodds/status/1348016701632221184', event);">chatter</a> online about how you should use <a target="_blank" rel="noopener" href="https://fettblog.eu/tidy-typescript-name-your-generics/" onclick="return trackOutboundLink('recent blog posts', 'https://fettblog.eu/tidy-typescript-name-your-generics/', event);">long names for generic types</a> (i.e. longer than just <code>T</code>). I&#39;d generalize all this a bit to say:</p>
<p><strong>Just because you&#39;re writing generics, don&#39;t forget everything you&#39;ve learned about programming!</strong></p>
<p>So yes, give long-lived variables meaningful names. But also avoid repeating yourself by factoring out common expressions.</p>
<p>This post presents a few patterns for reducing repetition in generics. None of them are perfect, but they&#39;re worth learning because they&#39;re usually better than repeating yourself!</p>
        <a class="read-more" href="/2021/01/20/gentips-3-aliases/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="top-posts-2020">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2021/01/09/top-posts-2020/">Top Posts of 2020</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2021-01-10T03:30:00.000Z" itemprop="datePublished">
        Sat 09 January 2021
      </time>
    </div>

    <div class="entry-content">
      
        <p>I <a href="https://effectivetypescript.com/2020/03/06/hello-world/">started</a> the Effective TypeScript blog on March 6, 2020. It was my fourth day staying home from work with a lingering illness. I had no idea that ten months later, I&#39;d still be working remotely. It&#39;s been quite a year.</p>
<p>I wrote 17 blog posts in 2020, very close to my goal of a post every two weeks. Here were the most popular:</p>
        <a class="read-more" href="/2021/01/09/top-posts-2020/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  
    <div class="row hentry" id="gentips-2-intersect">
  <div class="col-md-12">
    <h3 class="entry-title">
      <a href="/2020/12/09/gentips-2-intersect/">Generic Tips Part 2: Intersect what you have with whatever TypeScript wants</a>
    </h3>

    <div class="text-muted published-container">
      <time class="published" datetime="2020-12-09T22:50:00.000Z" itemprop="datePublished">
        Wed 09 December 2020
      </time>
    </div>

    <div class="entry-content">
      
        When you're working with generic types and run into a seemingly unavoidable error, there's a trick that can often make it go away: intersect what you have with whatever TypeScript wants it to be. Your errors will melt away! Read on for examples and caveats.

        <a class="read-more" href="/2020/12/09/gentips-2-intersect/">Continue&nbsp;reading&nbsp;&raquo;</a>
      
    </div>
  </div>
</div>

  

  <div class="row">
    <div class="col-md-12">
      <h3>Older Posts</h3>
    </div>
  </div>

  
</div>


  <div class="container" id="stay-in-touch">
    <div class="row">
      <div class="col-md-12">
        <p>
          For new TypeScript content every ~month, including new examples, sample items,
          videos and book updates, choose one of these ways to stay in touch:
        </p>

        <p>
          <a class="btn btn-info btn-lg" href="/mail/" onclick="return trackOutboundLink('subscribe newsletter', '/mail/', event);">Subscribe to the Newsletter</a>
          <a target="_blank" rel="noopener" href="https://twitter.com/danvdk" class="btn btn-info btn-lg" onclick="return trackOutboundLink('follow on twitter', 'https://twitter.com/danvdk', event);">Follow @danvdk</a>
          <a class="btn btn-info btn-lg" href="/atom.xml" onclick="return trackOutboundLink('follow RSS', '/atom.xml', event);"><span class="caps">RSS</span></a>
        </p>
      </div>
    </div>
  </div>

</section>


<section id="more-info" class="content">
  <div class="page-content">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2>Table of Contents</h2>

          <p>In an <a target="_blank" rel="noopener" href="http://scottmeyers.blogspot.com/2013/01/effective-effective-books.html" onclick="return trackOutboundLink('table of contents', 'http://scottmeyers.blogspot.com/2013/01/effective-effective-books.html', event);"><em>Effective</em>-style book</a>, the title of each item is a specific piece of advice. This means that the Table of Contents forms a summary of all the advice in the book. If any item piques your curiosity and you want to learn more, <a target="_blank" rel="noopener" href="https://amzn.to/3UjPrsK" onclick="return trackOutboundLink('table of contents', 'https://amzn.to/3UjPrsK', event);">order a copy</a>.</p>
<h3 id="Chapter-1-Getting-to-Know-TypeScript"><a href="#Chapter-1-Getting-to-Know-TypeScript" class="headerlink" title="Chapter 1: Getting to Know TypeScript"></a>Chapter 1: Getting to Know TypeScript</h3><p>Before we dive into the details, this chapter helps you understand the big picture of TypeScript. What is it and how should you think about it? How does it relate to JavaScript? Are its types nullable or are they not? What&#39;s this about <code>any</code>? And ducks?</p>
<ol>
<li>Understand the Relationship Between TypeScript and JavaScript</li>
<li>Know Which TypeScript Options You&#39;re Using</li>
<li>Understand That Code Generation Is Independent of Types</li>
<li>Get Comfortable with Structural Typing</li>
<li>Limit Use of the <code>any</code> Type</li>
</ol>
<h3 id="Chapter-2-TypeScript’s-Type-System"><a href="#Chapter-2-TypeScript’s-Type-System" class="headerlink" title="Chapter 2: TypeScript’s Type System"></a>Chapter 2: TypeScript’s Type System</h3><p>This chapter walks you through the nuts and bolts of TypeScript&#39;s type system: how to think about it, how to use it, choices you&#39;ll need to make, and features you should avoid. TypeScript&#39;s type system is surprisingly powerful and able to express things you might not expect a type system to be able to. The items in this chapter will give you a solid foundation to build upon as you write TypeScript and read the rest of this book.</p>
<ol start="6">
<li>Use Your Editor to Interrogate and Explore the Type System</li>
<li>Think of Types as Sets of Values</li>
<li>Know How to Tell Whether a Symbol Is in the Type Space or Value Space</li>
<li>Prefer Type Annotations to Type Assertions</li>
<li>Avoid Object Wrapper Types (String, Number, Boolean, Symbol, BigInt)</li>
<li>Distinguish Excess Property Checking from Type Checking</li>
<li>Apply Types to Entire Function Expressions When Possible</li>
<li>Know the Differences Between <code>type</code> and <code>interface</code></li>
<li>Use <code>readonly</code> to Avoid Errors Associated with Mutation</li>
<li>Use Type Operations and Generic Types to Avoid Repeating Yourself</li>
<li>Prefer More Precise Alternatives to Index Signatures</li>
<li>Avoid Numeric Index Signatures</li>
</ol>
<h3 id="Chapter-3-Type-Inference"><a href="#Chapter-3-Type-Inference" class="headerlink" title="Chapter 3: Type Inference"></a>Chapter 3: Type Inference</h3><p>This chapter shows you some of the problems that can arise with type inference and how to fix them. After reading it, you should have a good understanding of how TypeScript infers types, when you still need to write type declarations, and when it&#39;s a good idea to write type declarations even when a type can be inferred.</p>
<ol start="18">
<li><a href="/2020/04/28/avoid-inferable/">Avoid Cluttering Your Code with Inferable Types</a></li>
<li>Use Different Variables for Different Types</li>
<li>Understand How a Variable Gets Its Type</li>
<li>Create Objects All at Once</li>
<li>Understand Type Narrowing</li>
<li>Be Consistent in Your Use of Aliases</li>
<li>Understand How Context Is Used in Type Inference</li>
<li><a href="/2020/03/09/evolving-any/">Understand Evolving Types</a></li>
<li>Use Functional Constructs and Libraries to Help Types Flow</li>
<li>Use <code>async</code> Functions Instead of Callbacks to Improve Type Flow</li>
<li>Use Classes and Currying to Create New Inference Sites</li>
</ol>
<h3 id="Chapter-4-Type-Design"><a href="#Chapter-4-Type-Design" class="headerlink" title="Chapter 4: Type Design"></a>Chapter 4: Type Design</h3><p>Code is difficult to understand if you can&#39;t see the data or data types on which it operates. This is one of the great advantages of a type system: by writing out types, you make them visible to readers of your code. And this makes your code understandable. Other chapters cover the nuts and bolts of TypeScript types: using them, inferring them, and writing declarations with them. This chapter discusses the design of the types themselves. The examples in this chapter are all written with TypeScript in mind, but most of the ideas are more broadly applicable.</p>
<ol start="29">
<li>Prefer Types That Always Represent Valid States</li>
<li>Be Liberal in What You Accept and Strict in What You Produce</li>
<li><a href="/2023/05/31/jsdoc-repeat/">Don’t Repeat Type Information in Documentation</a></li>
<li>Avoid Including <code>null</code> or <code>undefined</code> in Type Aliases</li>
<li><a href="/2020/03/24/null-values-to-perimeter/">Push Null Values to the Perimeter of Your Types</a></li>
<li>Prefer Unions of Interfaces to Interfaces with Unions</li>
<li>Prefer More Precise Alternatives to String Types</li>
<li>Use a Distinct Type for Special Values</li>
<li>Limit the Use of Optional Properties</li>
<li>Avoid Repeated Parameters of the Same Type</li>
<li>Prefer Unifying Types to Modeling Differences</li>
<li>Prefer Imprecise Types to Inaccurate Types</li>
<li>Name Types Using the Language of Your Problem Domain</li>
<li>Avoid Types Based on Anecdotal Data</li>
</ol>
<h3 id="Chapter-5-Unsoundness-and-the-any-Type"><a href="#Chapter-5-Unsoundness-and-the-any-Type" class="headerlink" title="Chapter 5: Unsoundness and the any Type"></a>Chapter 5: Unsoundness and the any Type</h3><p>Type systems were traditionally binary affairs: either a language had a fully static type system or a fully dynamic one. TypeScript blurs the line, because its type system is <em>optional</em> and <em>gradual</em>. You can add types to parts of your program but not others. This is essential for migrating existing JavaScript codebases to TypeScript bit by bit. Key to this is the <code>any</code> type,  which effectively disables type checking for parts of your code. It is both powerful and prone to abuse. Learning to use <code>any</code> wisely is essential for writing effective TypeScript. This chapter walks you through how to limit the downsides of <code>any</code> while still retaining its benefits.</p>
<ol start="43">
<li>Use the Narrowest Possible Scope for <code>any</code> Types</li>
<li>Prefer More Precise Variants of <code>any</code> to Plain <code>any</code></li>
<li>Hide Unsafe Type Assertions in Well-Typed Functions</li>
<li>Use <code>unknown</code> Instead of <code>any</code> for Values with an Unknown Type</li>
<li>Prefer Type-Safe Approaches to Monkey Patching</li>
<li>Avoid Soundness Traps</li>
<li>Track Your Type Coverage to Prevent Regressions in Type Safety</li>
</ol>
<h3 id="Chapter-6-Generics-and-Type-Level-Programming"><a href="#Chapter-6-Generics-and-Type-Level-Programming" class="headerlink" title="Chapter 6: Generics and Type-Level Programming"></a>Chapter 6: Generics and Type-Level Programming</h3><p>TypeScript&#39;s type system is designed to model the runtime behavior of JavaScript code. Because JavaScript is so dynamic and permissive, this has pushed TypeScript&#39;s type system to develop increasingly powerful capabilities. This includes logic for mapping between types. When you add generic type aliases to the mix, TypeScript&#39;s type system becomes powerful enough that you can think of it as its own independent programming language. This chapter will help you decide whether it&#39;s necessary to use generic types and presents some alternatives. Used well, type-level code can improve other developers&#39; experiences without their ever needing to know that there&#39;s fancy type-level code involved.</p>
<ol start="50">
<li>Think of Generics as Functions Between Types</li>
<li>Avoid Unnecessary Type Parameters</li>
<li>Prefer Conditional Types to Overload Signatures</li>
<li>Know How to Control the Distribution of Unions over Conditional Types</li>
<li>Use Template Literal Types to Model DSLs and Relationships Between Strings</li>
<li>Write Tests for Your Types</li>
<li>Pay Attention to How Types Display</li>
<li>Prefer Tail-Recursive Generic Types</li>
<li>Consider Codegen as an Alternative to Complex Types</li>
</ol>
<h3 id="Chapter-7-TypeScript-Recipes"><a href="#Chapter-7-TypeScript-Recipes" class="headerlink" title="Chapter 7: TypeScript Recipes"></a>Chapter 7: TypeScript Recipes</h3><p>As the TypeScript community has grown, developers have come up with more and more tricks for solving specific problems. Some of these &quot;recipes&quot; leverage TypeScript&#39;s type checker to catch new categories of mistakes, such as values getting out of sync or nonexhaustive conditionals. Others are tricks for modeling patterns that TypeScript struggles with on its own: iterating over objects, filtering <code>null</code> values from Arrays, or modeling variadic functions. By applying the recipes in this chapter, you&#39;ll help TypeScript catch more real problems with fewer false positives.</p>
<ol start="59">
<li>Use <code>never</code> Types to Perform Exhaustiveness Checking</li>
<li><a href="/2020/05/26/iterate-objects/">Know How to Iterate Over Objects</a></li>
<li>Use <code>Record</code> Types to Keep Values in Sync</li>
<li>Use Rest Parameters and Tuple Types to Model Variadic Functions</li>
<li>Use Optional <code>never</code> Properties to Model Exclusive Or</li>
<li>Consider Brands for Nominal Typing</li>
</ol>
<h3 id="Chapter-8-Type-Declarations-and-types"><a href="#Chapter-8-Type-Declarations-and-types" class="headerlink" title="Chapter 8: Type Declarations and @types"></a>Chapter 8: Type Declarations and @types</h3><p>Dependency management can be confusing in any language, and TypeScript is no exception. This chapter will help you build a mental model for how dependencies work in TypeScript and show you how to work through some of the issues that can come up with them. It will also help you craft your own type declaration files to publish and share with others. By writing great type declarations, you can help not just your own project but the entire TypeScript community.</p>
<ol start="65">
<li>Put TypeScript and <code>@types</code> in <code>devDependencies</code></li>
<li>Understand the Three Versions Involved in Type Declarations</li>
<li>Export All Types That Appear in Public APIs</li>
<li>Use TSDoc for API Comments</li>
<li>Provide a Type for <code>this</code> in Callbacks if It&#39;s Part of Their API</li>
<li>Mirror Types to Sever Dependencies</li>
<li>Use Module Augmentation to Improve Types</li>
</ol>
<h3 id="Chapter-9-Writing-and-Running-Your-Code"><a href="#Chapter-9-Writing-and-Running-Your-Code" class="headerlink" title="Chapter 9: Writing and Running Your Code"></a>Chapter 9: Writing and Running Your Code</h3><p>This chapter is a bit of a grab bag: it covers some issues that come up in writing code (not types) as well as issues you may run into when you run your code.</p>
<ol start="72">
<li>Prefer ECMAScript Features to TypeScript Features</li>
<li>Use Source Maps to Debug TypeScript</li>
<li>Know How to Reconstruct Types at Runtime</li>
<li>Understand the DOM Hierarchy</li>
<li>Create an Accurate Model of Your Environment</li>
<li>Understand the Relationship Between Type Checking and Unit Testing</li>
<li>Pay Attention to Compiler Performance</li>
</ol>
<h3 id="Chapter-10-Modernization-and-Migration"><a href="#Chapter-10-Modernization-and-Migration" class="headerlink" title="Chapter 10: Modernization and Migration"></a>Chapter 10: Modernization and Migration</h3><p>You&#39;ve heard that TypeScript is great. You also know from painful experience that maintaining your 15-year-old, 100,000-line JavaScript library isn&#39;t. If only it could become a TypeScript library! This chapter offers some advice about migrating your JavaScript project to TypeScript without losing your sanity and abandoning the effort.</p>
<ol start="79">
<li>Write Modern JavaScript</li>
<li>Use <code>@ts-check</code> and JSDoc to Experiment with TypeScript</li>
<li>Use <code>allowJs</code> to Mix TypeScript and JavaScript</li>
<li>Convert Module by Module Up Your Dependency Graph</li>
<li>Don&#39;t Consider Migration Complete Until You Enable <code>noImplicitAny</code></li>
</ol>


        </div>
      </div>
    </div>
  </div>
</section>

<section id="about-the-author" class="content">
  <div class="page-content">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2>About the Author</h2>
          <img class="about-photo" src="https://effectivetypescript.com/images/danvk_square.jpg" alt="Dan Vanderkam">

          <p>Dan Vanderkam is an independent software developer based in upstate New York. He was previously a principal software engineer at <a target="_blank" rel="noopener" href="https://sidewalklabs.com" onclick="return trackOutboundLink('about the author', 'https://sidewalklabs.com', event);">Sidewalk Labs</a> and a senior staff software engineer at Google. He also worked on <a target="_blank" rel="noopener" href="https://github.com/hammerlab/pileup.js" onclick="return trackOutboundLink('about the author', 'https://github.com/hammerlab/pileup.js', event);">open source genome visualizations</a> at Mount Sinai&#39;s Icahn School of Medicine, as well as on Google search features used by billions of people (search for <a target="_blank" rel="noopener" href="https://google.com/search?q=sunset+nyc" onclick="return trackOutboundLink('about the author', 'https://google.com/search?q=sunset+nyc', event);">sunset nyc</a> or <a target="_blank" rel="noopener" href="https://google.com/search?q=population+of+france" onclick="return trackOutboundLink('about the author', 'https://google.com/search?q=population+of+france', event);">population of france</a>). He has a long history of working on <a target="_blank" rel="noopener" href="https://github.com/danvk" onclick="return trackOutboundLink('about the author', 'https://github.com/danvk', event);">open source projects</a>,
including the popular <a target="_blank" rel="noopener" href="https://github.com/danvk/dygraphs" onclick="return trackOutboundLink('about the author', 'https://github.com/danvk/dygraphs', event);">dygraphs</a> library and <a target="_blank" rel="noopener" href="https://github.com/danvk/source-map-explorer" onclick="return trackOutboundLink('about the author', 'https://github.com/danvk/source-map-explorer', event);">source-map-explorer</a>,
a tool for visualizing JavaScript code size.</p>
<p>When he&#39;s not programming, Dan enjoys rock climbing at the nearby Shawangunk Ridge, <a target="_blank" rel="noopener" href="https://www.danvk.org/catskills/" onclick="return trackOutboundLink('about the author', 'https://www.danvk.org/catskills/', event);">hiking in the Catskills</a>, and birdwatching all around the world. He also writes on <a target="_blank" rel="noopener" href="https://medium.com/@danvdk" onclick="return trackOutboundLink('about the author', 'https://medium.com/@danvdk', event);">Medium</a> and at <a target="_blank" rel="noopener" href="https://www.danvk.org" onclick="return trackOutboundLink('about the author', 'https://www.danvk.org', event);">danvk.org</a>. He earned his bachelor&#39;s in Computer Science from Rice University in Houston, Texas, and lives in Wallkill, New York.</p>


          <p>
            <a target="_blank" rel="noopener" href="https://twitter.com/danvdk" class="btn btn-info btn-lg" onclick="return trackOutboundLink('about the author', 'https://twitter.com/danvdk', event);">Follow @danvdk</a>
            <a href="/mail/" class="btn btn-info btn-lg" onclick="return trackOutboundLink('post learn more hover', '/mail/', event);">Subscribe</a>
          </p>
        </div>
      </div>
    </div>
  </div>

</section>

  <footer id="contentinfo" class="footer">
  <div class="container">
    <address id="about" class="vcard body">
      &copy; 2019 - 2024 <a class="url fn" target="_blank" rel="noopener" href="https://danvk.org" onclick="trackOutboundLink('footer', 'https://danvk.org'); return false;">Dan Vanderkam</a>
      <div class="footer-attribution">Powered by <a href="https://hexo.io/" target="_blank" onclick="return trackOutboundLink('about the author', 'https://hexo.io/', event);">Hexo</a></div>
    </address>
  </div>
</footer>
</body>
</html>
